{% extends "base.html" %} {% block title%}Gerer les codes d'invitations{% endblock %}
{% block content%}

<br />
<br />
<br />
<form method="post">
    <h3 align="center">Créer un code</h3>
    <div class="form-group">
        <label for="code">Code d'invitation</label>
        <input type="text" class="form-control" id="code" name="code" placeholder="Entrez le code d'invitation" oninput="this.value = this.value.toUpperCase()">
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Génerer</button>
</form>

<h3 align="center">Code disponible :</h3>



  <div class="row">
    <div class="col-4">
      <div class="list-group" id="list-tab" role="tablist">
        {%for inv in Invite.query.all()%}
        <a class="list-group-item list-group-item-action " id="list-home-list" data-toggle="list" href="#{{inv.code}}" role="tab" aria-controls="home">{{inv.code}} <span class="badge badge-primary badge-pill">{{inv.usages}}</span> </a>
        {%endfor%}
      </div>
    </div>
    <div class="col-8">
      <div class="tab-content" id="nav-tabContent">
        {%for inv in Invite.query.all()%}
        <div class="tab-pane fade" id="{{inv.code}}" role="tabpanel" aria-labelledby="list-profile-list">TODO </div>
        {%endfor%}
      </div>
    </div>
  </div>

<h3 align="center">Logs des codes :</h3>
 <table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Logs</th>
      <th scope="col">Date ?</th>
    </tr>
  </thead>
  <tbody>
    {%for l in logs.split('\n')%}
    <tr>
      <td>{{l}}</td>
      <td>N/A</td>
    </tr>
    {%endfor%}
  </tbody>
</table>
{% endblock %}